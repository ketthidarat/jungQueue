{% extends 'api/base.html' %}

{% block content %}

<div id="content-wrapper">

  <div class="container-fluid">
  
      </ol>
      
      <div class="card mb-3">
          <div class="card-header">
              <i class="fas fa-table"></i>
              จองคิวรถเกี่ยวนวดข้าว
          </div>
        </div>

          <div class="card-body">
            <form class="form-horizontal" action="/addWork" method="POST"  enctype="multipart/form-data">
              {% csrf_token %}
             {% comment %} <script src="https://maps.google.com/maps/api/js?sensor=false"></script>
  <title>Showing User's Location on Google Map</title>

  <script>
    function showPosition() {
      if(navigator.geolocation) {

        navigator.geolocation.getCurrentPosition(showMap, showError);
      } else {
        alert("Sorry, your browser does not support HTML5 geolocation.");
      }
    }

// Define callback function for successful attempt
function showMap(position) {
  // Get location data
  lat = position.coords.latitude;
  lng = position.coords.longitude;

  var latlong = new google.maps.LatLng(lat, lng);
  // document.getElementById("latlong")

  var userlat = document.getElementById("userlat");
  userlat.value = position.coords.latitude;
  var userlng = document.getElementById("userlng");
  userlng.value = position.coords.longitude;
  console.log(`userlatlng = ${userlat.value},${userlng.value}`);



  var myOptions = {
    center: latlong,
    zoom: 16,
    mapTypeControl: true,
    navigationControlOptions: {
      style:google.maps.NavigationControlStyle.MEDIUM
    }
  }

  var map = new google.maps.Map(document.getElementById("embedMap"), myOptions);
  var marker = new google.maps.Marker({ position:latlong, map:map, title:"You are here!" });
}
document.getElementById("latlong")

// Define callback function for failed attempt
function showError(error) {
  if(error.code == 1) {
    result.innerHTML = "You've decided not to share your position, but it's OK. We won't ask you again.";
  } else if(error.code == 2) {
    result.innerHTML = "The network is down or the positioning service can't be reached.";
  } else if(error.code == 3) {
    result.innerHTML = "The attempt timed out before it could get the location data.";
  } else {
    result.innerHTML = "Geolocation failed due to unknown error.";
  }
}
  </script>
  </head>
  <body>
    <button type="button" onclick="showPosition();">Show My Position on Google Map</button>
    <div id="embedMap" style="width: 100%; height: 400px;">
      <!--Google map will be embedded here-->
    </div>
  </body>
  </html>
        </div>
</div> {% endcomment %}
              <div class="form-group">
                  <div class="form-row">
                      <div class="col-md-9">
                          <div class="form-label-group">
                            <label for="area"><b>จำนวนทุ่งนาที่ต้องการเก็บเกี่ยว (ไร่)</b></label>
                            <input type="text" class="form-control"  name="area" required>
                           
                              <!-- <input type="text" class="form-control" name="product_name" placeholder="กรุณากรอกชื่อสินค้า" id="inputFirst" required>  -->
                          </div>
                      </div>
                   
                  </div>
              </div>
              
        <div class="form-group">
          <div class="form-row">
              <div class="col-md-9">
                  <div class="form-label-group">
                    <label for="exampleSelect1"><b> ลักษณะต้นข้าว</b></label>
                    <select class="form-control" id="Select" name="rice_type" required>
                    
                      {% for c in rice_type %}
                      <option value="{{c.id}}">{{ c.rice_type }}</option>  
                      {% endfor %}
                    </select>
                
                  </div>
              </div>
           
          </div>
      </div>
      <div class="form-group">
                  <div class="form-row">
                      <div class="col-md-9">
                          <div class="form-label-group">
                            <label for="rice"><b>พันธุ์ข้าว</b></label>
                            <input type="text" class="form-control"  name="rice" required>
                           
                              <!-- <input type="text" class="form-control" name="product_name" placeholder="กรุณากรอกชื่อสินค้า" id="inputFirst" required>  -->
                          </div>
                      </div>
                   
                  </div>
              </div>


            <div class="form-group">
              <div class="form-row">
                  <div class="col-md-9">
                      <div class="form-label-group">
                        <label for="workDetail"><b>รายละเอียดอื่นๆ</b></label>
                            <div class="form-group">
                            
                              <textarea class="form-control" rows="4" name="workDetail" required></textarea >
                            </div>
                      </div>
                  </div>
               
              </div>
          </div>
              
  
              <button class="btn btn-primary btn-block" onclick="myFunction()" type="submit">ยืนยัน &nbsp;&nbsp;&nbsp;<span></span></button>
              <button class="btn btn-danger btn-block" type="cancel">ยกเลิก &nbsp;&nbsp;&nbsp;<span></span></button>
          </form>
            <script>
            function myFunction() {
              alert("ยืนยันการจอง");
            }
            </script> 
          </div>
      </div>
  </div>
</div>
{% endblock %}